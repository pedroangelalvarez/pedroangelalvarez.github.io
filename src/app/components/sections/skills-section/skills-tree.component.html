<div class="select-none">
    <div class="tree-node-row" [class.selected]="isSelected" [style.paddingLeft]="paddingLeft"
        (click)="onNodeClick($event)">

        <!-- Toggle Arrow -->
        <span class="toggle-arrow" (click)="onToggle($event)">
            <ng-container *ngIf="hasChildren">
                <span class="arrow-icon">{{ isOpen ? 'â–¼' : 'â–¶' }}</span>
            </ng-container>
        </span>

        <!-- Icon -->
        <span class="node-icon" [class.selected]="isSelected">
            <ng-container [ngSwitch]="node.icon">
                <span *ngSwitchCase="'globe'">ğŸŒ</span>
                <span *ngSwitchCase="'server'">ğŸ–¥ï¸</span>
                <span *ngSwitchCase="'smartphone'">ğŸ“±</span>
                <span *ngSwitchCase="'bar-chart'">ğŸ“Š</span>
                <span *ngSwitchCase="'git-merge'">ğŸ”€</span>
                <span *ngSwitchCase="'code'">ğŸ’»</span>
                <span *ngSwitchDefault>ğŸ§ª</span>
            </ng-container>
        </span>

        <!-- Node Name -->
        <span class="node-name" [class.font-bold]="isSelected">
            {{ node.name }}
        </span>
    </div>

    <!-- Children -->
    <div *ngIf="isOpen && hasChildren">
        <app-skills-tree *ngFor="let child of node.children; trackBy: trackById" [node]="child"
            [selectedId]="selectedId" [level]="level + 1" (nodeSelected)="onChildSelected($event)">
        </app-skills-tree>
    </div>
</div>